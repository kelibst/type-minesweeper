(()=>{"use strict";const t=(t,e,s)=>{for(let n=0;n<t.length;n++)if(t[n].classList.contains("flag")&&t[n].classList.contains("bomb")&&e++,e===s){let t=document.querySelector(".status");t.classList.add("success"),t.innerHTML="Wow! you won. Restarting Game!",setTimeout((()=>{location.reload()}),5e3)}},e=(e,s,n,c,i,d)=>{s||!e.classList.contains("checked")&&n<c&&(e.classList.contains("flag")?(e.classList.remove("flag"),e.innerHTML="",n--,t(d,i,c)):(e.classList.add("flag"),e.innerHTML="&#9971",n++,t(d,i,c)))},s=(t,e,n,c)=>{let i=parseInt(t.id);if(!c&&!t.classList.contains("flag")&&!t.classList.contains("bomb")){let d=Number(t.getAttribute("data"));return 0!==d?(t.classList.add("checked"),void(t.innerHTML=`${d}`)):(t.classList.add("checked"),void((t,e,n,c,i)=>{const d=i%c==0,a=i%c==c-1;setTimeout((()=>{if(i>0&&!d){const n=t[i-1].id,d=document.getElementById(n);s(d,t,c,e)}if(i>9&&!a){const n=t[i+1-c].id,d=document.getElementById(n);s(d,t,c,e)}if(i>10){const n=t[i-c].id,d=document.getElementById(n);s(d,t,c,e)}if(i>11&&!d){const n=t[i-1-c].id,d=document.getElementById(n);s(d,t,c,e)}if(i<98&&!a){const n=t[i+1].id,d=document.getElementById(n);s(d,t,c,e)}if(i<90&&!d){const n=t[i-1+c].id,d=document.getElementById(n);s(d,t,c,e)}if(i<88&&!a){const n=t[i+1+c].id,d=document.getElementById(n);s(d,t,c,e)}if(i<89){const n=t[i+c].id,d=document.getElementById(n);s(d,t,c,e)}}),10)})(e,c,0,n,i))}};document.addEventListener("DOMContentLoaded",(()=>{let t;t=[10,document.querySelector(".grid"),[],20,!1,0,0],((t,n,c,i,d,a,o)=>{const l=Array.from({length:i},(t=>"bomb")),r=[...Array(t*t-i).fill("valid"),...l].sort((()=>Math.random()-.5));let m=document.querySelector(".flag-add");m.addEventListener("click",(()=>{m.classList.contains("active")?m.classList.remove("active"):m.classList.add("active")}));for(let l=0;l<t*t;l++){const u=document.createElement("div");let L;u.setAttribute("id",`${l}`),u.classList.add(r[l]),n.appendChild(u),c.push(u),L=[u,d,a,i,o,c],u.addEventListener("click",(n=>m.classList.contains("active")?e(...L):s(u,c,t,d)))}})(...t)}))})();